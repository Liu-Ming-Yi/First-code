<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é»æ“Šæ¸¬é©— - éš¨æ©Ÿç§»å‹• JS ç·´ç¿’ (å«é‡ç©/è¿”å›)</title>
    <style>
        /* CSS æ¨£å¼ */
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }

        h1 {
            color: #333;
            margin-bottom: 20px;
            font-family: Arial, sans-serif;
        }

        /* å¤–å±¤çš„æ¡†æ¡† */
        #container {
            width: 400px;
            height: 300px;
            border: 3px solid #007bff;
            background-color: #ffffff;
            position: relative; 
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        /* è¦ç§»å‹•çš„æŒ‰éˆ• */
        #movingButton {
            position: absolute;
            top: 50%;
            left: 50%; 
            transform: translate(-50%, -50%); 
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #28a745;
            color: white;
            border: none;
            border-radius: 5px;
            transition: all 0.4s ease-out; 
            min-width: 120px;
            text-align: center;
        }
    </style>
</head>
<body>

    <h1>é»æ“Šæ¸¬é©— (éš¨æ©Ÿç§»å‹•)</h1>

    <div id="container">
        <button id="movingButton">é»æ“Šæˆ‘</button>
    </div>

    <script>
        // JavaScript é‚è¼¯
        const button = document.getElementById('movingButton');
        let clickCount = 0; 
        const redirectURL = "https://liu-ming-yi.github.io/First-code/"; // æ‚¨æä¾›çš„è¿”å›è¶…é€£çµ

        /**
         * ç”Ÿæˆä¸€å€‹åœ¨æŒ‡å®šç¯„åœå…§çš„éš¨æ©Ÿç™¾åˆ†æ¯”ä½ç½® (10% åˆ° 90%)
         */
        function getRandomPosition() {
            const randomPercent = Math.floor(Math.random() * 80) + 10;
            return `${randomPercent}%`;
        }

        /**
         * è™•ç†éŠæˆ²æˆåŠŸçš„é‚è¼¯ï¼Œä¸¦å½ˆå‡ºç¢ºèªæ¡†
         */
        function handleSuccess() {
            // è®“æŒ‰éˆ•å›åˆ°ä¸­å¿ƒä¸¦æ”¾å¤§é¡¯ç¤ºæˆåŠŸè¨Šæ¯
            button.style.top = '50%';
            button.style.left = '50%';
            button.style.transform = 'translate(-50%, -50%) scale(1.3)';
            button.textContent = 'ğŸ‰ JSç·´ç¿’æˆåŠŸï¼ğŸ‰';
            button.style.backgroundColor = '#dc3545';
            button.style.cursor = 'default';
            
            // ç§»é™¤äº‹ä»¶ç›£è½å™¨ï¼Œé¿å…å†é»æ“Š
            button.removeEventListener('click', handleButtonClick);

            // --- æ ¸å¿ƒæ–°å¢åŠŸèƒ½ï¼šå½ˆå‡ºç¢ºèªæ¡† ---
            // confirm() æœƒè¿”å› true (ç¢ºå®š) æˆ– false (å–æ¶ˆ)
            const playAgain = confirm("æ­å–œæ‚¨æˆåŠŸå®Œæˆæ¸¬é©—ï¼\n\næ˜¯å¦è¦å†ç©ä¸€æ¬¡ï¼Ÿ (æŒ‰ã€Œç¢ºå®šã€é‡ç©ï¼ŒæŒ‰ã€Œå–æ¶ˆã€è¿”å›)");

            if (playAgain) {
                // ä½¿ç”¨è€…é¸æ“‡ã€Œç¢ºå®šã€ (å†ç©ä¸€æ¬¡)ï¼šé‡æ–°è¼‰å…¥é é¢
                window.location.reload(); 
            } else {
                // ä½¿ç”¨è€…é¸æ“‡ã€Œå–æ¶ˆã€ (è¿”å›)ï¼šå°å‘åˆ°æŒ‡å®šçš„è¶…é€£çµ
                window.location.href = redirectURL;
            }
        }

        /**
         * è™•ç†æŒ‰éˆ•é»æ“Šäº‹ä»¶çš„ä¸»å‡½æ•¸
         */
        function handleButtonClick() {
            clickCount++; 

            if (clickCount <= 3) {
                // å‰ä¸‰æ¬¡é»æ“Šï¼šç§»å‹•æŒ‰éˆ•
                const newTop = getRandomPosition();
                const newLeft = getRandomPosition();

                button.style.top = newTop;
                button.style.left = newLeft;
                button.style.transform = 'none'; 

                button.textContent = `å†é»æ“Š ${4 - clickCount} æ¬¡ (éš¨æ©Ÿç§»å‹•)`;
            } else if (clickCount === 4) {
                // ç¬¬å››æ¬¡é»æ“Šï¼šå‘¼å«æˆåŠŸè™•ç†å‡½æ•¸
                handleSuccess();
            }
        }
        
        // ç¶å®šé»æ“Šäº‹ä»¶
        button.addEventListener('click', handleButtonClick);

    </script>
</body>
</html>
